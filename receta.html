 <!DOCTYPE html>
 <html>
    <head>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
 <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
 <!-- Add Firebase products that you want to use -->
 <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
 <script src="/Recetas/js/conexion.js"></script>
 <link rel="stylesheet" href="/Recetas/css/styles.css"/>
    <link rel="manifest" href="/Recetas/manifest.json" />
    <link rel="icon" href="/Recetas/images/icon.png" >
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <div id="miLista">
            
        </div>
      

        <script>
           
            // Obtén una referencia a la base de datos de Firebase
            var db = firebase.database();
            var ref = db.ref("Recetas");

            // Obtén una referencia a la lista HTML
            var contenedor = document.getElementById("miLista");

            ref.on("value", function(snapshot) {
            contenedor.innerHTML = ""; // Limpia el contenedor antes de agregar los nuevos elementos
            snapshot.forEach(function(childSnapshot) {
                var childData = childSnapshot.val(); 
                var childData2 = childSnapshot.val().Ingredientes;// Obtiene los datos del hijo
                console.log(childData2);
                var nuevoElemento = document.createElement("div");
                var nuevoElemento1 = document.createElement("div");  // Crea un nuevo elemento "div"
                var nuevoElemento3 = document.createElement("div");

                nuevoElemento.classList.add("box"); 
                var i = 1;
                // Agrega una clase CSS al nuevo elemento
                var imagen = "imagen";
                nuevoElemento.innerHTML = "<img src="+childData.imagen+" alt="+childData.nombre+" class="+imagen+"><h3>" + childData.nombre + "</h3></h3><p>Ingredientes:</p><ul>";
                for(i in childData2) {
                    console.log(childData2[i]);
                    nuevoElemento1.innerHTML = "<li>"+ childData2[i] + "</li><ul>"; // Agrega el contenido HTML al nuevo elemento
                    nuevoElemento.innerHTML = nuevoElemento.innerHTML + nuevoElemento1.innerHTML;
                    contenedor.appendChild(nuevoElemento);
                    i=i+1; 
                }// Agrega el contenido HTML al nuevo elemento
                // Agrega el nuevo elemento al contenedor
                
            });
            });
                /*// Agrega un escucha para los cambios en la base de datos
                ref.on('child_added', function(data) {
                // Muestra una alerta cada vez que se agrega un dato a la base de datos
                alert("Se agregó un nuevo dato: ");
                new Notification('Nuevo mensaje', {
                body: 'Revisa la actualizacion',
                icon: 'images/icon-384x384.png'}); 
                });*/

                
        </script>   
    </body>
 </html>
 
